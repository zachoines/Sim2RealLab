Metadata-Version: 2.4
Name: strafer_lab
Version: 0.1.0
Summary: Isaac Lab extension for Gobilda Strafer mecanum wheel robot
Author: Your Name
Author-email: Your Name <your.email@example.com>
License: MIT
Keywords: isaaclab,robotics,reinforcement-learning,simulation
Requires-Python: >=3.10
Description-Content-Type: text/markdown
Requires-Dist: isaaclab
Requires-Dist: isaaclab_assets
Requires-Dist: isaaclab_rl
Requires-Dist: isaaclab_tasks
Provides-Extra: dev
Requires-Dist: pytest; extra == "dev"
Requires-Dist: pytest-cov; extra == "dev"
Requires-Dist: black; extra == "dev"
Requires-Dist: ruff; extra == "dev"
Dynamic: author
Dynamic: requires-python

# Strafer Lab

Isaac Lab extension for training and deploying the Gobilda Strafer mecanum wheel robot.

## Installation

```bash
# From the workspace root, with Isaac Lab Python environment active
cd c:\Worspace
python -m pip install -e source/strafer_lab
```

## Quick Start

### List Available Environments

```bash
python -c "import strafer_lab; import gymnasium as gym; print([e for e in gym.envs.registry.keys() if 'Strafer' in e])"
```

### Train with RSL-RL

```bash
python IsaacLab/scripts/reinforcement_learning/rsl_rl/train.py --task Isaac-Strafer-Navigation-v0 --num_envs 4096
```

### Evaluate Trained Policy

```bash
python IsaacLab/scripts/reinforcement_learning/rsl_rl/play.py --task Isaac-Strafer-Navigation-Play-v0 --num_envs 50
```

## Project Structure

```
source/strafer_lab/
├── config/
│   └── extension.toml           # Package metadata
├── strafer_lab/
│   ├── __init__.py              # Package init, registers gym envs
│   ├── assets/                  # Robot configurations
│   │   ├── __init__.py
│   │   └── strafer.py           # ArticulationCfg for Strafer robot
│   └── tasks/                   # RL environments
│       ├── __init__.py
│       └── navigation/          # Navigation task
│           ├── __init__.py      # gym.register()
│           ├── strafer_env_cfg.py  # Environment configuration
│           ├── agents/          # RL algorithm configs
│           │   ├── rsl_rl_ppo_cfg.py
│           │   └── skrl_ppo_cfg.yaml
│           └── mdp/             # MDP components
│               ├── actions.py   # Mecanum wheel actions
│               ├── observations.py
│               ├── rewards.py
│               ├── terminations.py
│               ├── events.py
│               └── commands.py  # Goal command generator
├── pyproject.toml
└── setup.py
```

## Robot Configuration

The Strafer robot is configured in `assets/strafer.py` with:

- **Wheel drives**: 4 mecanum wheels with velocity control
- **Roller bearings**: 40 passive rollers (10 per wheel)
- **Action space**: `[vx, vy, omega]` - forward, strafe, rotation velocities
- **Observation space**: Base velocity, orientation, goal position, previous action

## Environments

| Environment ID | Description |
|---------------|-------------|
| `Isaac-Strafer-Navigation-v0` | Training env (4096 parallel instances) |
| `Isaac-Strafer-Navigation-Play-v0` | Evaluation env (50 instances, no noise) |

## Sim-to-Real Pipeline

```
┌─────────────────┐     ┌─────────────────┐     ┌─────────────────┐
│  Asset Prep     │────▶│  RL Training    │────▶│  Deployment     │
│  (USD scripts)  │     │  (Isaac Lab)    │     │  (ROS2 + ONNX)  │
└─────────────────┘     └─────────────────┘     └─────────────────┘
```

### 1. Asset Preparation (Complete)

USD processing scripts in `Scripts/`:
- `collapse_redundant_xforms.py` - Clean USD hierarchy
- `setup_physics.py` - Add articulation, joints, colliders

### 2. RL Training (This Extension)

- Manager-based RL environment
- PPO training with RSL-RL or SKRL
- Domain randomization for sim-to-real

### 3. Deployment (TODO)

- [ ] Export trained policy to ONNX
- [ ] ROS2 bridge integration
- [ ] Real robot deployment scripts

## Customization

### Adding New Tasks

1. Create new task folder under `tasks/`
2. Define environment config (`*_env_cfg.py`)
3. Add custom MDP functions in `mdp/`
4. Register with `gym.register()` in `__init__.py`

### Modifying Rewards

Edit `tasks/navigation/mdp/rewards.py` to add/modify reward terms.

### Domain Randomization

Edit `tasks/navigation/mdp/events.py` to add randomization events.

## Dependencies

- Isaac Lab (isaaclab, isaaclab_tasks, isaaclab_rl)
- Isaac Sim 4.5+
- Python 3.10+

## License

MIT
